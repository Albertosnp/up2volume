(this.webpackJsonpup2volume=this.webpackJsonpup2volume||[]).push([[0],{160:function(e,t,a){},187:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(56),r=a.n(c),s=a(7),i=a(11),o=a(167).a.initializeApp({apiKey:"AIzaSyCWolFiWx9UQ_hZjj3U2r1oc5x0heFVoI8",authDomain:"up2volume-4cbef.firebaseapp.com",projectId:"up2volume-4cbef",storageBucket:"up2volume-4cbef.appspot.com",messagingSenderId:"430745477952",appId:"1:430745477952:web:762ccae468a4f04c0690a5"}),l=(a(153),a(264)),u=(a(187),a(2)),j=function(e){var t=e.setSelectedForm;return Object(u.jsxs)("div",{className:"auth-options",children:[Object(u.jsx)("h2",{children:"La comunidad de m\xfasica libre"}),Object(u.jsx)(l.a,{primary:!0,className:"register",onClick:function(){return t("register")},children:"Registrarse gratis"}),Object(u.jsx)(l.a,{primary:!0,className:"login",onClick:function(){return t("login")},children:"Iniciar sesi\xf3n"})]})},b=a(36),d=a(10),O=a(280),m=a(276),f=a(81),h=(a(194),a(195),a(55)),p=o.firestore(o),v=function(){o.auth().signOut()},x=function(){o.auth().currentUser.sendEmailVerification().then((function(){return i.b.success("Se ha enviado un email de verificaci\xf3n.")})).catch((function(){return i.b.error("Error al enviar el email de verificaci\xf3n.")}))},g=function(e){return p.collection("albums").where("artist","==",e).get()},w=function(){return p.collection("artists").get()},S=function(e,t){return o.storage().ref().child("songs/".concat(e)).put(t)},N=function(e,t,a,n){var c=h.a.firestore.Timestamp.fromDate(new Date);p.collection("songs").add({name:t,album:a,fileName:e,artist:n,date:c})},k=function(e){return o.storage().ref(e).getDownloadURL()},y=function(e){return p.collection("artists").doc(e).get()},C=function(e){return p.collection("albums").doc(e).get()},E=function(e){return o.auth().currentUser.updateProfile({photoURL:e})},A=function(e){var t=h.a.auth().currentUser,a=h.a.auth.EmailAuthProvider.credential(t.email,e);return t.reauthenticateWithCredential(a)},_=function(e){return o.auth().currentUser.updateEmail(e)},F=function(e){return o.storage().ref("others/".concat(e)).getDownloadURL()},I=function(e){return o.storage().ref(e).getDownloadURL()},D=function(e,t){return o.storage().ref().child(e).put(t)},R=function(e,t,a){var n=h.a.firestore.Timestamp.fromDate(new Date);return p.collection("artists").add({name:a,banner:e,avatar:t,date:n})},M=function(e,t,a){var n=h.a.firestore.Timestamp.fromDate(new Date);return p.collection("albums").add({name:e,artist:t,avatar:a,date:n})};function L(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}a(198);var T={email:"",password:"",userName:""},U=function(e){var t=e.setSelectedForm,a=Object(n.useState)(T),c=Object(s.a)(a,2),r=c[0],j=c[1],h=Object(n.useState)(!1),p=Object(s.a)(h,2),v=p[0],g=p[1],w=Object(n.useState)({}),S=Object(s.a)(w,2),N=S[0],k=S[1],y=Object(n.useState)(!1),C=Object(s.a)(y,2),E=C[0],A=C[1],_=function(){g(!v)},F=function(){var e;e=r.userName,o.auth().currentUser.updateProfile({displayName:e}).catch((function(){return i.b.error("Error al asignar el nombre de usuario.")}))},I=function(){x()};return Object(u.jsxs)("div",{className:"register-form",children:[Object(u.jsx)("h1",{children:"\xdanete a up2volume y escucha m\xfasica libre."}),Object(u.jsxs)(O.a,{onSubmit:function(e){e.preventDefault(),k({});var a,n,c={},s=!0;L(r.email)||(c.email=!0,s=!1),r.password.length<6&&(c.password=!0,s=!1),r.userName.trim()||(c.userName=!0,s=!1),k(c),s&&(A(!0),(a=r.email,n=r.password,o.auth().createUserWithEmailAndPassword(a,n)).then((function(){F(),I()})).catch((function(e){return i.b.error("Error al crear la cuenta")})).finally((function(){A(!1),t(null)})))},onChange:function(e){j(Object(d.a)(Object(d.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))},children:[Object(u.jsxs)(O.a.Field,{children:[Object(u.jsx)(m.a,{type:"text",name:"email",placeholder:"Email",icon:"mail outline",value:r.email,error:N.email}),N.email?Object(u.jsx)("span",{className:"error-text",children:"Por favor, introduce un email v\xe1lido"}):""]}),Object(u.jsxs)(O.a.Field,{children:[Object(u.jsx)(m.a,{type:v?"text":"password",name:"password",placeholder:"Contrase\xf1a",icon:v?Object(u.jsx)(f.a,{name:"eye slash outline",link:!0,onClick:_}):Object(u.jsx)(f.a,{name:"eye",link:!0,onClick:_}),value:r.password,error:N.password}),N.password?Object(u.jsx)("span",{className:"error-text",children:"La contrase\xf1a debe tener m\xe1s de 5 caracteres"}):""]}),Object(u.jsxs)(O.a.Field,{children:[Object(u.jsx)(m.a,{type:"text",name:"userName",placeholder:"Como deber\xedamos llamarte?",icon:"user circle outline",value:r.userName,error:N.userName}),N.userName?Object(u.jsx)("span",{className:"error-text",children:"Por favor, introduce un nombre de ususario v\xe1lido"}):""]}),Object(u.jsx)(l.a,{loading:E,children:"Continuar"})]}),Object(u.jsxs)("div",{className:"register-form__options",children:[Object(u.jsx)("p",{onClick:function(){return t(null)},children:"Volver"}),Object(u.jsxs)("p",{children:["\xbfYa tienes up2volume?"," ",Object(u.jsx)("span",{onClick:function(){return t("login")},children:"Iniciar Sesi\xf3n"})]})]})]})},P=(a(199),{email:"",password:""}),z=function(e){var t=e.user,a=e.setIsLoading,n=e.setUserActive;return Object(u.jsx)("div",{className:"resend-verification-email",children:Object(u.jsxs)("p",{children:["Si no has recibido el email de verificaci\xf3n puedes volver a enviarlo haciendo click ",Object(u.jsx)("span",{onClick:function(){t.sendEmailVerification().then((function(){return i.b.success("Se ha enviado el email de verificaci\xf3n.")})).catch((function(e){return V(e.code)})).finally((function(){a(!1),n(!0)}))},children:"aqu\xed."})]})})},V=function(e){switch(e){case"auth/wrong-password":i.b.warning("El usuario o la contrase\xf1a no son correctos.");break;case"auth/too-many-requests":i.b.warning("Has enviado demasiadas solicitudes de confirmaci\xf3n.");break;case"auth/user-not-found":i.b.warning("El usuario o la contrase\xf1a no son correctos.")}},B=function(e){var t=e.setSelectedForm,a=Object(n.useState)(P),c=Object(s.a)(a,2),r=c[0],j=c[1],h=Object(n.useState)(!1),p=Object(s.a)(h,2),v=p[0],x=p[1],g=Object(n.useState)({}),w=Object(s.a)(g,2),S=w[0],N=w[1],k=Object(n.useState)(!1),y=Object(s.a)(k,2),C=y[0],E=y[1],A=Object(n.useState)(!0),_=Object(s.a)(A,2),F=_[0],I=_[1],D=Object(n.useState)(null),R=Object(s.a)(D,2),M=R[0],T=R[1],U=function(){x(!v)};return Object(u.jsxs)("div",{className:"login-form",children:[Object(u.jsx)("h1",{children:"Accede a toda la m\xfasica gratis"}),Object(u.jsxs)(O.a,{onSubmit:function(e){e.preventDefault(),N({});var t,a,n={},c=!0;L(r.email)||(n.email=!0,c=!1),r.password.length<6&&(n.password=!0,c=!1),N(n),c&&(E(!0),(t=r.email,a=r.password,o.auth().signInWithEmailAndPassword(t,a)).then((function(e){T(e.user),I(e.user.emailVerified),e.user.emailVerified||i.b.warning("Debes verificar la cuenta.")})).catch((function(e){return V(e.code)})).finally((function(){return E(!1)})))},onChange:function(e){j(Object(d.a)(Object(d.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))},children:[Object(u.jsxs)(O.a.Field,{children:[Object(u.jsx)(m.a,{type:"text",name:"email",placeholder:"Email",icon:"mail outline",error:S.email}),S.email?Object(u.jsx)("span",{className:"error-text",children:"Por favor, introduce un email v\xe1lido"}):""]}),Object(u.jsxs)(O.a.Field,{children:[Object(u.jsx)(m.a,{type:v?"text":"password",name:"password",placeholder:"Contrase\xf1a",icon:v?Object(u.jsx)(f.a,{name:"eye slash outline",link:!0,onClick:U}):Object(u.jsx)(f.a,{name:"eye",link:!0,onClick:U}),error:S.password}),S.password?Object(u.jsx)("span",{className:"error-text",children:"La contrase\xf1a debe tener m\xe1s de 5 caracteres"}):""]}),Object(u.jsx)(l.a,{loading:C,children:"Iniciar sesi\xf3n"})]}),F?"":Object(u.jsx)(z,{user:M,setIsLoading:E,setUserActive:I}),Object(u.jsxs)("div",{className:"login-form__options",children:[Object(u.jsx)("p",{onClick:function(){return t(null)},children:"Volver"}),Object(u.jsxs)("p",{children:["\xbfNo te has registrado?"," ",Object(u.jsx)("span",{onClick:function(){return t("register")},children:"Reg\xedstrate"})]})]})]})},W=(a.p,a.p+"static/media/fondo.fb9f4851.png"),q=a.p+"static/media/logo-blanco.a56ddebf.png",H=(a(200),function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(u.jsxs)("div",{className:"auth",style:{backgroundImage:"url( ".concat(W," )")},children:[Object(u.jsx)("div",{className:"auth__dark"}),Object(u.jsxs)("div",{className:"auth__box",children:[Object(u.jsx)("div",{className:"auth__box-logo",children:Object(u.jsx)("img",{src:q,alt:"up2volume"})}),function(){switch(a){case"login":return Object(u.jsx)(B,{setSelectedForm:c});case"register":return Object(u.jsx)(U,{setSelectedForm:c});default:return Object(u.jsx)(j,{setSelectedForm:c})}}()]})]})}),K=a(287),Z=a(25),J=a(17),G=a(277),Q=(a(201),function(e){var t=e.album,a=e.artist,n=e.urlAvatar,c={backgroundImage:"url('".concat(n,"')")};return Object(u.jsxs)("div",{className:"album__header",children:[Object(u.jsx)("div",{className:"image",style:c}),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("h1",{children:t.name}),Object(u.jsxs)("p",{children:["by",Object(u.jsx)(Z.b,{to:"/artist/".concat(a.id),children:Object(u.jsxs)("span",{children:[" ",a.name," "]})})]})]})]})}),Y=a(14),$=a.n(Y),X=a(18),ee=a(281),te=(a(204),function(e){var t=e.songs,a=e.playerSong,c=e.title,r=e.userAdmin;return Object(n.useEffect)((function(){}),[t]),t.length<=0?null:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:c}),Object(u.jsx)(ee.a,{inverted:!0,className:"list-songs",children:Object(u.jsx)(ee.a.Body,{children:t.map((function(e){return Object(u.jsx)(ae,{song:e,avatar:e.avatar,playerSong:a,userAdmin:r},e.id)}))})})]})}),ae=function(e){var t=e.song,a=(e.avatar,e.playerSong),c=e.userAdmin,r=Object(n.useState)(null),l=Object(s.a)(r,2),j=l[0],b=l[1],O=Object(n.useState)(null),m=Object(s.a)(O,2),h=(m[0],m[1]),v=function(e){(function(){var t=Object(X.a)($.a.mark((function t(){var a;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e);case 3:a=t.sent,b(a),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()};Object(n.useEffect)((function(){t&&(""===t.album?function(){var e=Object(X.a)($.a.mark((function e(){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(t.artist);case 3:a=e.sent,h(Object(d.a)(Object(d.a)({},a.data()),{},{id:a.id})),v("artists/avatars/".concat(a.data().avatar)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()():function(){var e=Object(X.a)($.a.mark((function e(){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t.album);case 3:a=e.sent,h(Object(d.a)(Object(d.a)({},a.data()),{},{id:a.id})),v("albums/".concat(a.data().avatar)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()())}),[t]);var x=function(e){a(j,t.name,t.fileName)};return Object(u.jsxs)(ee.a.Row,{children:[Object(u.jsx)(ee.a.Cell,{collapsing:!0,onClick:x,children:Object(u.jsx)(f.a,{name:"play circle outline"})}),Object(u.jsx)(ee.a.Cell,{onClick:x,children:t.name}),c&&Object(u.jsx)(ee.a.Cell,{onClick:function(){var e;(e=t.id,p.collection("songs").doc(e).delete()).then((function(){var e;e=t.fileName,o.storage().ref().child("songs/".concat(e)).delete().then((function(){return i.b.success("Se ha eliminado con exito")})).catch((function(){return i.b.warning("No se ha podido eliminar el fichero")}))})).catch((function(){return i.b.warning("No se ha podido eliminar el tema.")}))},children:Object(u.jsx)(f.a,{className:"trash alternate outline"})})]})},ne=(a(205),Object(J.f)((function(e){var t=e.match,a=e.playerSong,c=e.userAdmin,r=Object(n.useState)(null),o=Object(s.a)(r,2),l=o[0],j=o[1],b=Object(n.useState)(null),O=Object(s.a)(b,2),m=O[0],f=O[1],h=Object(n.useState)(null),v=Object(s.a)(h,2),x=v[0],g=v[1],w=Object(n.useState)([]),S=Object(s.a)(w,2),N=S[0],k=S[1];return Object(n.useEffect)((function(){var e;l&&(e=l.id,p.collection("songs").where("album","==",e).get()).then((function(e){var t,a=[];null===e||void 0===e||null===(t=e.docs)||void 0===t||t.map((function(e){a.push(Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id}))})),k(a)}))}),[l]),Object(n.useEffect)((function(){var e,a;(a=null===t||void 0===t||null===(e=t.params)||void 0===e?void 0:e.id,p.collection("albums").doc(a).get()).then((function(e){j(Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id}))})).catch((function(){return i.b.warning("No se pudo cargar el \xe1lbum.")}))}),[t]),Object(n.useEffect)((function(){l&&I("albums/".concat(null===l||void 0===l?void 0:l.avatar)).then((function(e){f(e)})).catch((function(){return i.b.warning("No se pudo cargar la imagen del \xe1lbum.")}))}),[l]),Object(n.useEffect)((function(){l&&y(null===l||void 0===l?void 0:l.artist).then((function(e){g(Object(d.a)(Object(d.a)({},e.data()),{},{id:l.artist}))})).catch((function(){return i.b.warning("Error al cargar el nombre del artista.")}))}),[l]),!l||!x?Object(u.jsx)(G.a,{active:!0,children:"Cargando"}):Object(u.jsxs)("div",{className:"album",children:[Object(u.jsx)(Q,{artist:x,album:l,urlAvatar:m}),Object(u.jsx)("div",{className:"album__songs",children:Object(u.jsx)(te,{songs:N,urlAvatar:m,playerSong:a,userAdmin:c,title:"Titulo"})})]})}))),ce=(a(206),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){p.collection("albums").get().then((function(e){var t,a=[];null===e||void 0===e||null===(t=e.docs)||void 0===t||t.map((function(e){var t=e.data();t.id=e.id,a.push(t)})),c(a)})).catch((function(){i.b.warning("No se pudieron cargar los \xc1lbumes.")}))}),[]),!a?Object(u.jsx)(G.a,{active:!0,children:"Cargando"}):Object(u.jsxs)("div",{className:"albums",children:[Object(u.jsx)("h1",{children:"\xc1lbumes"}),Object(u.jsx)(K.a,{children:a.map((function(e){return Object(u.jsx)(K.a.Column,{mobile:8,tablet:4,computer:3,children:Object(u.jsx)(re,{album:e})},e.id)}))})]})}),re=function(e){var t=e.album,a=(e.setImages,Object(n.useState)(null)),c=Object(s.a)(a,2),r=c[0],o=c[1],l={backgroundImage:"url('".concat(r,"')")};return Object(n.useEffect)((function(){I("albums/".concat(t.avatar)).then((function(e){o(e)})).catch((function(){return i.b.warning("No se pudo cargar la imagen del \xc1lbum.")}))}),[]),Object(u.jsx)(Z.b,{to:"/album/".concat(t.id),children:Object(u.jsxs)("div",{className:"albums__item",children:[Object(u.jsx)("div",{className:"avatar",style:l}),Object(u.jsx)("h3",{children:t.name})]})})},se=a(147),ie=(a(207),function(e){var t=e.artist,a=Object(n.useState)(null),c=Object(s.a)(a,2),r=c[0],i=c[1],o={backgroundImage:"url('".concat(r,"')")};return Object(n.useEffect)((function(){I("artists/avatars/".concat(null===t||void 0===t?void 0:t.avatar)).then((function(e){i(e)}))}),[t]),Object(u.jsx)("div",{className:"avatar-artist",style:o})}),oe=(a(208),function(e){var t=e.artist,a=Object(n.useState)(null),c=Object(s.a)(a,2),r=c[0],i=c[1],o={backgroundImage:"url('".concat(r,"')")};return Object(n.useEffect)((function(){I("artists/banners/".concat(null===t||void 0===t?void 0:t.banner)).then((function(e){i(e)}))}),[t]),Object(u.jsxs)("div",{className:"banner-artist",style:o,children:[Object(u.jsx)("div",{className:"banner-artist__gradient"}),Object(u.jsxs)("div",{className:"banner-artist__info",children:[Object(u.jsx)("h4",{children:"Artista"}),Object(u.jsx)("h1",{children:t.name})]})]})}),le=a(91),ue=a.n(le),je=a(283),be=(a(224),function(e){var t=e.item,a=e.folderImage,c=e.urlName,r=Object(n.useState)(null),i=Object(s.a)(r,2),o=i[0],l=i[1];"url(".concat(o,")");return Object(n.useEffect)((function(){(function(){var e=Object(X.a)($.a.mark((function e(){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("".concat(a,"/").concat(t.avatar));case 3:n=e.sent,l(n),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t,a]),Object(u.jsx)(Z.b,{to:"/".concat(c,"/").concat(t.id),children:Object(u.jsxs)("div",{className:"object__card",children:[Object(u.jsx)(je.a,{className:"basic-slider-items__list-artist",image:o}),Object(u.jsx)("h4",{children:t.name})]})})}),de=(a(225),function(e){var t=e.item,a=e.folderImage,c=e.urlName,r=Object(n.useState)(null),i=Object(s.a)(r,2),o=i[0],l=i[1];"url(".concat(o,")");return Object(n.useEffect)((function(){(function(){var e=Object(X.a)($.a.mark((function e(){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("".concat(a,"/").concat(t.avatar));case 3:n=e.sent,l(n),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[t,a]),Object(u.jsx)(Z.b,{to:"/".concat(c,"/").concat(t.id),children:Object(u.jsxs)("div",{className:"object__card",children:[Object(u.jsx)(je.a,{className:"basic-slider-items__list-item",image:o}),Object(u.jsx)("h4",{children:t.name})]})})}),Oe=(a(226),function(e){var t=e.title,a=e.data,n=e.folderImage,c=e.urlName;return a.length<4?null:Object(u.jsxs)("div",{className:"basic-slider-items",children:[Object(u.jsx)("h2",{children:t}),Object(u.jsx)(ue.a,Object(d.a)(Object(d.a)({},{className:"basic-slider-items__list",infinite:!0,centerPadding:"60px",slidesToShow:4,swipeToSlide:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),{},{children:a.map((function(e){return"artist"===c?Object(u.jsx)(be,{item:e,folderImage:n,urlName:c},e.id):Object(u.jsx)(de,{item:e,folderImage:n,urlName:c},e.id)}))}))]})}),me=(a(227),function(e){var t=e.title,a=e.data,c=e.playerSong,r=Object(n.useState)(a),i=Object(s.a)(r,2);i[0],i[1];return a.length<5?null:Object(u.jsxs)("div",{className:"songs-slider",children:[Object(u.jsx)("h2",{children:t}),Object(u.jsx)(ue.a,Object(d.a)(Object(d.a)({},{className:"songs-slider__list",infinite:!0,centerPadding:"60px",slidesToShow:5,swipeToSlide:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),{},{children:a.map((function(e){return Object(u.jsx)(fe,{item:e,playerSong:c},e.id)}))}))]})}),fe=function(e){var t=e.item,a=e.playerSong,c=Object(n.useState)(null),r=Object(s.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(null),j=Object(s.a)(l,2),b=j[0],O=j[1],m=function(e){(function(){var t=Object(X.a)($.a.mark((function t(){var a;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e);case 3:a=t.sent,o(a),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()};Object(n.useEffect)((function(){t&&(""===t.album?function(){var e=Object(X.a)($.a.mark((function e(){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(t.artist);case 3:a=e.sent,O(Object(d.a)(Object(d.a)({},a.data()),{},{id:a.id})),m("artists/avatars/".concat(a.data().avatar)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()():function(){var e=Object(X.a)($.a.mark((function e(){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t.album);case 3:a=e.sent,O(Object(d.a)(Object(d.a)({},a.data()),{},{id:a.id})),m("albums/".concat(a.data().avatar)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()())}),[t]);var h=function(){a(i,t.name,t.fileName)};return Object(u.jsx)("div",{className:"songs-slider__list-song",children:Object(u.jsx)("div",{className:"avatar",children:t.album?Object(u.jsxs)("div",{className:"object__card",children:[Object(u.jsx)(je.a,{className:"basic-slider-items__list-item",image:i}),Object(u.jsx)(f.a,{name:"play circle",onClick:h}),Object(u.jsx)(Z.b,{to:"/album/".concat(null===b||void 0===b?void 0:b.id),children:Object(u.jsx)("h4",{children:t.name})})]}):Object(u.jsxs)("div",{className:"object__card",children:[Object(u.jsx)(je.a,{className:"basic-slider-items__list-item",image:i}),Object(u.jsx)(f.a,{name:"play circle",onClick:h}),Object(u.jsx)(Z.b,{to:"/artist/".concat(null===b||void 0===b?void 0:b.id),children:Object(u.jsx)("h4",{children:t.name})})]})})})},he=h.a.firestore(o),pe=function(){var e=Object(X.a)($.a.mark((function e(t){var a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.collection("admins").doc(t).get();case 2:return a=e.sent,e.abrupt("return",a.exists);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=(a(228),Object(J.f)((function(e){var t=e.match,a=e.playerSong,c=e.userAdmin,r=Object(n.useState)(),o=Object(s.a)(r,2),l=o[0],j=o[1],b=Object(n.useState)([]),O=Object(s.a)(b,2),m=O[0],f=O[1],h=Object(n.useState)([]),v=Object(s.a)(h,2),x=v[0],w=v[1],S=Object(n.useState)([]),N=Object(s.a)(S,2),k=N[0],C=N[1],E=Object(n.useState)([]),A=Object(s.a)(E,2),_=A[0],F=A[1];return Object(n.useEffect)((function(){var e;y(null===t||void 0===t||null===(e=t.params)||void 0===e?void 0:e.id).then((function(e){j(Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id}))}))}),[t]),Object(n.useEffect)((function(){l&&g(l.id).then((function(e){var t,a=[];null===e||void 0===e||null===(t=e.docs)||void 0===t||t.map((function(e){return a.push(Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id}))})),f(a)})).catch((function(){return i.b.warning("No se pudieron cargar los \xe1lbumes del artista.")}))}),[l]),Object(n.useEffect)((function(){var e=[];m.map(function(){var t=Object(X.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=a.id,p.collection("songs").where("album","==",n).get()).then((function(t){null===t||void 0===t||t.docs.map((function(t){e.push(Object(d.a)(Object(d.a)({},t.data()),{},{id:t.id}))})),w(e)}));case 1:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}())}),[m]),Object(n.useEffect)((function(){if(!l)return null;var e;(e=l.id,p.collection("songs").where("album","==","").where("artist","==",e).get()).then((function(e){var t=[];null===e||void 0===e||e.docs.map((function(e){t.push(Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id}))})),C(t)}))}),[x]),Object(n.useEffect)((function(){if(!x||!k)return null;F([].concat(Object(se.a)(x),Object(se.a)(k)))}),[x,k]),Object(u.jsxs)("div",{className:"artist",children:[l&&Object(u.jsx)(oe,{artist:l}),l&&Object(u.jsx)(ie,{artist:l}),Object(u.jsxs)("div",{className:"artist__content",children:[Object(u.jsx)("div",{className:"album__songs",children:Object(u.jsx)(te,{songs:k,playerSong:a,title:"Singles",userAdmin:c})}),Object(u.jsx)(Oe,{title:"\xc1lbumes",data:m,folderImage:"albums",urlName:"album"}),Object(u.jsx)(me,{title:"Temas",data:_,playerSong:a})]})]})}))),xe=(a(229),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){w().then((function(e){var t,a=[];null===e||void 0===e||null===(t=e.docs)||void 0===t||t.map((function(e){var t=e.data();t.id=e.id,a.push(t)})),c(a)})).catch((function(){return i.b.warning("No se pudieron cargar los Artistas.")}))}),[]),Object(u.jsxs)("div",{className:"artists",children:[Object(u.jsx)("h1",{children:"Artistas"}),Object(u.jsx)(K.a,{children:a.map((function(e){return Object(u.jsx)(K.a.Column,{mobile:8,tablet:4,computer:3,children:Object(u.jsx)(ge,{artist:e})},e.id)}))})]})}),ge=function(e){var t=e.artist,a=Object(n.useState)(null),c=Object(s.a)(a,2),r=c[0],i=c[1];Object(n.useEffect)((function(){I("artists/avatars/".concat(t.avatar)).then((function(e){i(e)}))}),[t]);var o={backgroundImage:"url('".concat(r,"')")};return Object(u.jsx)(Z.b,{to:"/artist/".concat(t.id),children:Object(u.jsxs)("div",{className:"artists__item",children:[Object(u.jsx)("div",{className:"avatar",style:o}),Object(u.jsx)("h3",{children:t.name})]})})},we=a(172),Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";switch(e){case"auth/wrong-password":i.b.warning("La contrase\xf1a no es correcta.");break;case"auth/email-already-in-use":i.b.warning("El email ya est\xe1 en uso.");break;case"storage/object-not-found":i.b.warning("Alg\xfan elemento no se pudo cargar.");break;default:i.b.warning("Ups... Algo sali\xf3 mal.")}},Ne=(a(230),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(X.a)($.a.mark((function e(){var t,a,n,r,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F("banner1.png");case 3:return t=e.sent,e.next=6,F("banner2.png");case 6:return a=e.sent,e.next=9,F("banner3.png");case 9:return n=e.sent,e.next=12,F("banner4.png");case 12:return r=e.sent,e.next=15,F("banner5.png");case 15:s=e.sent,c([s,a,n,r,t]),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),Se(e.t0.code);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}})()()}),[]),a?Object(u.jsx)("div",{className:"banner-home",children:Object(u.jsx)(ue.a,Object(d.a)(Object(d.a)({},{infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,speed:1e3,autoplaySpeed:5e3,cssEase:"linear"}),{},{children:a.map((function(e){return Object(u.jsx)(we.a,{src:e,className:"sliderClass"},e)}))}))}):null}),ke=(a(231),function(e){var t=e.playerSong,a=Object(n.useState)([]),c=Object(s.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)([]),l=Object(s.a)(o,2),j=l[0],b=l[1],O=Object(n.useState)([]),m=Object(s.a)(O,2),f=m[0],h=m[1];return Object(n.useEffect)((function(){p.collection("songs").orderBy("date","desc").limit(10).get().then((function(e){var t,a=[];null===e||void 0===e||null===(t=e.docs)||void 0===t||t.map((function(e){a.push(Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id}))})),h(a)}))}),[]),Object(n.useEffect)((function(){p.collection("albums").orderBy("date","desc").limit(10).get().then((function(e){var t,a=[];null===e||void 0===e||null===(t=e.docs)||void 0===t||t.map((function(e){var t=e.data();t.id=e.id,a.push(t)})),b(a)}))}),[]),Object(n.useEffect)((function(){p.collection("artists").orderBy("date","desc").limit(10).get().then((function(e){var t,a=[];null===e||void 0===e||null===(t=e.docs)||void 0===t||t.map((function(e){var t=e.data();t.id=e.id,a.push(t)})),i(a)}))}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ne,{}),Object(u.jsxs)("div",{className:"home",children:[Object(u.jsx)(Oe,{title:"\xdaltimos artistas",data:r,folderImage:"artists/avatars",urlName:"artist"}),Object(u.jsx)(Oe,{title:"\xdaltimos \xe1lbumes",data:j,folderImage:"albums",urlName:"album"}),Object(u.jsx)(me,{title:"\xdaltimas temas a\xf1adidos",data:f,playerSong:t})]})]})}),ye=a(69),Ce=a.p+"static/media/user.8b06a583.png",Ee=function(e){var t=e.user,a=e.setReloadApp,c=Object(n.useState)(t.photoUrl),r=Object(s.a)(c,2),l=(r[0],r[1]),j=Object(n.useCallback)((function(e){var a=e[0];if(!a)return i.b.warning("El avatar no tiene un formato permitido ( jpg / png )");var n=3e5>a.size;if(n){var c=URL.createObjectURL(a);l(c),function(e,t){return o.storage().ref().child("avatar/".concat(e)).put(t)}(t.uid,a).then((function(){return h()}))}n||i.b.warning("El avatar no puede exceder de 300kb")})),b=Object(ye.a)({accept:"image/jpeg, image/png",noKeyboard:!0,onDrop:j}),O=b.getRootProps,m=b.getInputProps,f=b.isDragActive,h=function(){(function(){var e=Object(X.a)($.a.mark((function e(){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k("avatar/".concat(t.uid));case 3:return n=e.sent,e.next=6,E(n);case 6:a((function(e){return!e})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i.b.error("Error al actualizar el avatar");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()};return Object(u.jsxs)("div",Object(d.a)(Object(d.a)({className:"user-avatar"},O()),{},{children:[Object(u.jsx)("input",Object(d.a)({},m())),f?Object(u.jsx)(we.a,{src:Ce}):Object(u.jsx)(we.a,{src:t.photoURL?t.photoURL:Ce})]}))},Ae=function(e){var t=e.user,a=e.setShowModal,n=e.setTitleModal,c=e.setContentModal,r=e.setReloadApp;return Object(u.jsxs)("div",{className:"user-name",children:[Object(u.jsx)("h2",{children:t.displayName}),Object(u.jsx)(l.a,{circular:!0,onClick:function(){c(Object(u.jsx)(_e,{displayName:t.displayName,setShowModal:a,setReloadApp:r})),n("Actualizar nombre"),a(!0)},children:"Actualizar"})]})},_e=function(e){var t=e.displayName,a=e.setShowModal,c=e.setReloadApp,r=Object(n.useState)(t),o=Object(s.a)(r,2),j=o[0],b=o[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),p=f[0],v=f[1];return Object(u.jsxs)(O.a,{onSubmit:function(){t===j||!j?a(!1):(v(!0),function(e){return h.a.auth().currentUser.updateProfile({displayName:e})}(j).then((function(){c((function(e){return!e})),i.b.success("El nombre se cambi\xf3 correctamente."),v(!1),a(!1)})).catch((function(){i.b.error("No se pudo cambiar el nombre."),v(!1),a(!1)})))},children:[Object(u.jsx)(O.a.Field,{children:Object(u.jsx)(m.a,{defaultValue:t,name:"userName",onChange:function(e){return b(e.target.value)}})}),Object(u.jsx)(l.a,{loading:p,children:"Actualizar"})]})},Fe=a(282),Ie=(a(232),function(e){var t=e.show,a=e.setShow,n=e.title,c=e.children,r=function(){a(!1)};return Object(u.jsxs)(Fe.a,{open:t,onClose:r,className:"basic-modal",size:"tiny",children:[Object(u.jsxs)(Fe.a.Header,{children:[Object(u.jsx)("h3",{children:n}),Object(u.jsx)(f.a,{name:"close",onClick:r})]}),Object(u.jsx)(Fe.a.Content,{children:c})]})}),De=function(e){var t=e.user,a=e.setShowModal,n=e.setTitleModal,c=e.setContentModal;return Object(u.jsxs)("div",{className:"user-email",children:[Object(u.jsxs)("h3",{children:["Email: ",t.email]}),Object(u.jsx)(l.a,{circular:!0,onClick:function(){c(Object(u.jsx)(Re,{email:t.email,setShowModal:a})),n("Actualizar email"),a(!0)},children:"Actualizar"})]})},Re=function(e){var t=e.email,a=e.setShowModal,c=Object(n.useState)(!1),r=Object(s.a)(c,2),o=r[0],j=r[1],h=Object(n.useState)({email:t,password:""}),p=Object(s.a)(h,2),g=p[0],w=p[1],S=Object(n.useState)(!1),N=Object(s.a)(S,2),k=N[0],y=N[1],C=function(e){w(Object(d.a)(Object(d.a)({},g),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(u.jsxs)(O.a,{onSubmit:function(e){e.preventDefault();var n=g.email!==t&&""!==g.email,c=g.email===t;n||(c?i.b.warning("El email no puede ser el mismo."):i.b.warning("El email no se puede dejar vac\xedo")),n&&(y(!0),A(g.password).then((function(){(function(){var e=Object(X.a)($.a.mark((function e(){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(g.email);case 3:return i.b.success("Email actualizado."),y(!1),a(!1),e.next=8,x();case 8:return e.next=10,v();case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),Se(e.t0.code),y(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()})).catch((function(e){Se(null===e||void 0===e?void 0:e.code)}))),y(!1)},children:[Object(u.jsx)(O.a.Field,{children:Object(u.jsx)(m.a,{name:"email",defaultValue:t,type:"text",onChange:C})}),Object(u.jsx)(O.a.Field,{children:Object(u.jsx)(m.a,{name:"password",placeholder:"Contrase\xf1a",onChange:C,type:o?"text":"password",icon:Object(u.jsx)(f.a,{name:o?"eye slash outline":"eye",link:!0,onClick:function(){j((function(e){return!e}))}})})}),Object(u.jsx)(l.a,{loading:k,children:"Actualizar"})]})},Me=function(e){var t=e.setShowModal,a=e.setTitleModal,n=e.setContentModal;return Object(u.jsxs)("div",{className:"user-password",children:[Object(u.jsx)("h3",{children:"Contrase\xf1a: xxxxxx"}),Object(u.jsx)(l.a,{circular:!0,onClick:function(){a("Actualiza tu contrase\xf1a"),n(Object(u.jsx)(Le,{setShowModal:t})),t(!0)},children:"Actualizar"})]})},Le=function(e){var t=e.setShowModal,a=Object(n.useState)(!1),c=Object(s.a)(a,2),r=c[0],o=c[1],j=Object(n.useState)({}),p=Object(s.a)(j,2),x=p[0],g=p[1],w=Object(n.useState)(!1),S=Object(s.a)(w,2),N=S[0],k=S[1],y=function(){o((function(e){return!e}))};return Object(u.jsxs)(O.a,{onSubmit:function(e){e.preventDefault();var a=x.currentPassword.trim(),n=x.newPass1.trim(),c=x.newPass2.trim();(function(e,t,a){return e&&t&&a?e===t?(i.b.warning("La nueva contrase\xf1a no puede ser la misma que la actual."),!1):t!==a?(i.b.warning("La nuevas contrase\xf1as deben ser iguales."),!1):!!(t.length>6)||(i.b.warning("La nueva contrase\xf1a debe tener mas de 6 caract\xe9res."),!1):(i.b.warning("Has dejado alg\xfan campo vac\xedo."),!1)})(a,n,c)&&(k(!0),A(a).then((function(){var e;(e=n,h.a.auth().currentUser.updatePassword(e)).then((function(){i.b.success("La contrase\xf1a se cambi\xf3 correctamente."),v()})).catch((function(e){return Se(e.code)})),t(!1)})).catch((function(e){Se(e.code)})),k(!1))},onChange:function(e){g(Object(d.a)(Object(d.a)({},x),{},Object(b.a)({},e.target.name,e.target.value)))},children:[Object(u.jsx)(O.a.Field,{children:Object(u.jsx)(m.a,{name:"currentPassword",placeholder:"Contrase\xf1a actual",type:r?"text":"password",icon:Object(u.jsx)(f.a,{name:"eye",link:!0,onClick:y})})}),Object(u.jsx)(O.a.Field,{children:Object(u.jsx)(m.a,{name:"newPass1",placeholder:"Nueva contrase\xf1a",type:r?"text":"password",icon:Object(u.jsx)(f.a,{name:"eye",link:!0,onClick:y})})}),Object(u.jsx)(O.a.Field,{children:Object(u.jsx)(m.a,{name:"newPass2",placeholder:"Repite la nueva contrase\xf1a",type:r?"text":"password",icon:Object(u.jsx)(f.a,{name:"eye",link:!0,onClick:y})})}),Object(u.jsx)(l.a,{loading:N,children:"Actualizar"})]})},Te=(a(233),function(e){var t=e.user,a=e.setReloadApp,c=Object(n.useState)(!1),r=Object(s.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(""),j=Object(s.a)(l,2),b=j[0],d=j[1],O=Object(n.useState)(null),m=Object(s.a)(O,2),f=m[0],h=m[1];return Object(u.jsxs)("div",{className:"settings",children:[Object(u.jsx)("h1",{children:"Configuraci\xf3n"}),Object(u.jsxs)("div",{className:"avatar-name",children:[Object(u.jsx)(Ee,{user:t,setReloadApp:a}),Object(u.jsx)(Ae,{user:t,setShowModal:o,setTitleModal:d,setContentModal:h,setReloadApp:a})]}),Object(u.jsx)(De,{user:t,setShowModal:o,setTitleModal:d,setContentModal:h}),Object(u.jsx)(Me,{setShowModal:o,setTitleModal:d,setContentModal:h}),Object(u.jsx)(Ie,{show:i,setShow:o,title:b,children:f})]})}),Ue=function(e){var t=e.user,a=e.setReloadApp,c=e.playerSong,r=Object(n.useState)(!1),i=Object(s.a)(r,2),o=i[0],l=i[1];return Object(n.useEffect)((function(){pe(t.uid).then((function(e){return l(e)}))}),[t]),Object(u.jsxs)(J.c,{children:[Object(u.jsx)(J.a,{path:"/artists",exact:!0,children:Object(u.jsx)(xe,{})}),Object(u.jsx)(J.a,{path:"/albums",exact:!0,children:Object(u.jsx)(ce,{})}),Object(u.jsx)(J.a,{path:"/settings",exact:!0,children:Object(u.jsx)(Te,{user:t,setReloadApp:a})}),Object(u.jsx)(J.a,{path:"/album/:id",exact:!0,children:Object(u.jsx)(ne,{playerSong:c,userAdmin:o})}),Object(u.jsx)(J.a,{path:"/artist/:id",exact:!0,children:Object(u.jsx)(ve,{playerSong:c,userAdmin:o})}),Object(u.jsx)(J.a,{path:"/",children:Object(u.jsx)(ke,{playerSong:c})})]})},Pe=a(279),ze=a(285),Ve=a(278),Be=a.p+"static/media/no-image.cd703f9f.png",We=(a(234),{name:"",artist:""}),qe=function(e){var t=e.setShowModal,a=Object(n.useState)(null),c=Object(s.a)(a,2),r=c[0],o=c[1],j=Object(n.useState)([]),f=Object(s.a)(j,2),h=f[0],p=f[1],v=Object(n.useState)(We),x=Object(s.a)(v,2),g=x[0],S=x[1],N=Object(n.useState)(!1),k=Object(s.a)(N,2),y=k[0],C=k[1],E=Object(n.useState)(null),A=Object(s.a)(E,2),_=A[0],F=A[1],I={backgroundImage:"url('".concat(r,"')")};Object(n.useEffect)((function(){(function(){var e=Object(X.a)($.a.mark((function e(){var t,a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:a=e.sent,n=[],null===a||void 0===a||null===(t=a.docs)||void 0===t||t.map((function(e){var t=e.data(),a={key:e.id,value:e.id,text:t.name};n.push(a)})),p(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i.b.warning("Ups... Algo sali\xf3 mal.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var R=Object(n.useCallback)((function(e){var t=e[0];return t?1e6>t.size?(F(t),void o(URL.createObjectURL(t))):i.b.warning("La imagen no puede exceder de 1Mb"):i.b.warning("La imagen del album no tiene un formato correcto")})),L=Object(ye.a)({accept:"image/jpeg, image/png",noKeyboard:!0,onDrop:R}),T=L.getRootProps,U=L.getInputProps,P=function(e,t){S(t?Object(d.a)(Object(d.a)({},g),{},{artist:t.value}):Object(d.a)(Object(d.a)({},g),{},Object(b.a)({},e.target.name,e.target.value.trim())))},z=function(){var e=Object(X.a)($.a.mark((function e(a){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),g.name){e.next=3;break}return e.abrupt("return",i.b.warning("Debes a\xf1adir el nombre del album."));case 3:if(g.artist){e.next=5;break}return e.abrupt("return",i.b.warning("Debes seleccionar un artista."));case 5:if(r){e.next=7;break}return e.abrupt("return",i.b.warning("Debes a\xf1adir la imagen del album."));case 7:return C(!0),n=Object(ze.a)(),e.prev=9,e.next=12,D("albums/".concat(n),_);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(9),i.b.warning("No se pudo subir la imagen del album."),C(!1);case 18:return e.prev=18,e.next=21,M(g.name,g.artist,n);case 21:i.b.success("El album se ha creado con \xe9xito."),V(),e.next=29;break;case 25:e.prev=25,e.t1=e.catch(18),i.b.warning("No se pudo subir el album."),C(!1);case 29:C(!1),t(!1);case 31:case"end":return e.stop()}}),e,null,[[9,14],[18,25]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){F(null),S(We),o(null)};return Object(u.jsxs)(O.a,{className:"add-album-form",onSubmit:z,onChange:P,children:[Object(u.jsxs)(O.a.Group,{children:[Object(u.jsxs)(O.a.Field,{className:"album-avatar",width:5,children:[Object(u.jsx)("div",Object(d.a)(Object(d.a)({},T()),{},{className:"avatar",style:I,children:Object(u.jsx)("input",Object(d.a)({},U()))})),!r&&Object(u.jsx)(we.a,{src:Be})]}),Object(u.jsxs)(O.a.Field,{className:"album-inputs",width:11,children:[Object(u.jsx)(m.a,{placeholder:"Nombre del album",name:"name"}),Object(u.jsx)(Ve.a,{placeholder:"El album pertenece...",item:!0,fluid:!0,search:!0,selection:!0,lazyLoad:!0,options:h,onChange:P})]})]}),Object(u.jsx)(l.a,{loading:y,children:"A\xf1adir album"})]})},He=(a(160),function(e){var t=e.file,a=e.setUrl,n=e.classNameField,c=e.classNameDiv,r=e.setWholeFile,s=e.imageDefault,o=Object(ye.a)({accept:"image/jpeg, image/png",noKeyboard:!0,onDrop:function(e){var n=e[0];return n?1e6>n.size?(r(n),void a(Object(d.a)(Object(d.a)({},t),{},{content:URL.createObjectURL(n)}))):i.b.warning("La imagen no puede exceder de 1Mb"):i.b.warning("La imagen no tiene un formato permitido ( jpg / png )")}}),l=o.getRootProps,j=o.getInputProps;return Object(u.jsx)(O.a.Field,{className:n,children:Object(u.jsxs)("div",Object(d.a)(Object(d.a)({className:c},l()),{},{style:{backgroundImage:"url('".concat(t.content,"')")},children:[Object(u.jsx)("input",Object(d.a)({},j())),!t.content&&Object(u.jsx)(we.a,{src:s})]}))})}),Ke=a.p+"static/media/no-avatar.ef8b153e.png",Ze=a.p+"static/media/no-banner.5c88a03b.png",Je=function(e){var t=e.setShowModal,a=Object(n.useState)(Ge),c=Object(s.a)(a,2),r=c[0],o=c[1],j=Object(n.useState)(!1),f=Object(s.a)(j,2),h=(f[0],f[1]),p=Object(n.useState)(null),v=Object(s.a)(p,2),x=v[0],g=v[1],w=Object(n.useState)(null),S=Object(s.a)(w,2),N=S[0],k=S[1],y=Object(n.useState)({content:null,preview:null}),C=Object(s.a)(y,2),E=C[0],A=C[1],_=Object(n.useState)({content:null,preview:null}),F=Object(s.a)(_,2),I=F[0],M=F[1],L={backgroundImage:"url('".concat(E||Ze,"')")},T={backgroundImage:"url('".concat(E||Ke,"')")},U=function(){var e=Object(X.a)($.a.mark((function e(a){var n,c;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r.name){e.next=3;break}return e.abrupt("return",i.b.warning("Debes a\xf1adir el nombre del artista."));case 3:if(E.content){e.next=5;break}return e.abrupt("return",i.b.warning("Debes a\xf1adir el banner del artista."));case 5:if(I.content){e.next=7;break}return e.abrupt("return",i.b.warning("Debes a\xf1adir el avatar del artista."));case 7:return h(!0),e.prev=8,n=Object(ze.a)(),c=Object(ze.a)(),e.next=13,D("artists/banners/".concat(n),x);case 13:return e.next=15,D("artists/avatars/".concat(c),N);case 15:return e.next=17,R(n,c,r.name);case 17:o(Ge),A({content:null,preview:null}),M({content:null,preview:null}),i.b.success("El artista se ha a\xf1adido correctamente."),h(!1),t(!1),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(8),i.b.error("Ups... Algo sali\xf3 mal."),h(!1);case 27:case"end":return e.stop()}}),e,null,[[8,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(O.a,{className:"add-artist-form",onSubmit:U,onChange:function(e){o(Object(d.a)(Object(d.a)({},r),{},Object(b.a)({},e.target.name,e.target.value.trim())))},children:[Object(u.jsx)(He,{classNameField:"artist-banner",classNameDiv:"banner",file:E,setUrl:A,imageDefault:Ze,styleMod:L,setWholeFile:g}),Object(u.jsx)(He,{classNameField:"artist-avatar",classNameDiv:"avatar",file:I,setUrl:M,imageDefault:Ke,styleMod:T,setWholeFile:k}),Object(u.jsx)(O.a.Field,{children:Object(u.jsx)(m.a,{placeholder:"Nombre del artista",name:"name"})}),Object(u.jsx)(l.a,{children:"Crear Artista"})]})},Ge=function(){return{name:""}},Qe=(a(235),{name:"",artist:"",album:""}),Ye=function(e){var t=e.setShowModal,a=Object(n.useState)([]),c=Object(s.a)(a,2),r=c[0],o=c[1],j=Object(n.useState)([]),b=Object(s.a)(j,2),h=b[0],p=b[1],v=Object(n.useState)(null),x=Object(s.a)(v,2),k=x[0],y=x[1],C=Object(n.useState)(null),E=Object(s.a)(C,2),A=(E[0],E[1]),_=Object(n.useState)(null),F=Object(s.a)(_,2),I=F[0],D=F[1],R=Object(n.useState)(Qe),M=Object(s.a)(R,2),L=M[0],T=M[1],U=Object(n.useState)(!1),P=Object(s.a)(U,2),z=P[0],V=P[1];Object(n.useEffect)((function(){k&&function(){var e=Object(X.a)($.a.mark((function e(){var t,a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(k.id);case 3:a=e.sent,n=[],null===a||void 0===a||null===(t=a.docs)||void 0===t||t.map((function(e){return n.push({key:e.id,value:e.id,text:e.data().name})})),o(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i.b.warning("No se pudieron cargar los \xe1lbumes del artista.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[k]),Object(n.useEffect)((function(){(function(){var e=Object(X.a)($.a.mark((function e(){var t,a,n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:a=e.sent,n=[],null===a||void 0===a||null===(t=a.docs)||void 0===t||t.map((function(e){n.push({key:e.id,value:e.id,text:e.data().name})})),p(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i.b.warning("No se han podido cargar los artistas");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var B=Object(ye.a)({accept:".mp3",noKeyboard:!0,onDrop:function(e){var t=e[0];D(t)}}),W=B.getRootProps,q=B.getInputProps,H=function(){var e=Object(X.a)($.a.mark((function e(a){var n;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),L.name){e.next=3;break}return e.abrupt("return",i.b.warning("Debes a\xf1adir el nombre del tema."));case 3:if(L.artist){e.next=5;break}return e.abrupt("return",i.b.warning("Debes asignar el tema a un artista existente."));case 5:if(I){e.next=7;break}return e.abrupt("return",i.b.warning("Debes a\xf1adir un archivo .mp3"));case 7:return V(!0),n=Object(ze.a)(),e.prev=9,e.next=12,S(n,I);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(9),i.b.warning("Hubo un error al subir el fichero."),V(!1);case 18:return e.prev=18,e.next=21,N(n,L.name,L.album,k.id);case 21:i.b.success("El tema se ha subido correctamente."),V(!1),t(!1),T(Qe),e.next=31;break;case 27:e.prev=27,e.t1=e.catch(18),i.b.warning("Hubo un error al guardar el tema."),V(!1);case 31:case"end":return e.stop()}}),e,null,[[9,14],[18,27]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(O.a,{className:"add-song-form",onSubmit:H,children:[Object(u.jsx)(O.a.Field,{children:Object(u.jsx)(m.a,{onChange:function(e){T(Object(d.a)(Object(d.a)({},L),{},{name:e.target.value.trim()}))},placeholder:"Nombre del tema"})}),Object(u.jsx)(O.a.Field,{children:Object(u.jsx)(Ve.a,{placeholder:"Artistas disponibles...",search:!0,selection:!0,lazyLoad:!0,options:h,onChange:function(e,t){y({id:t.value}),T(Object(d.a)(Object(d.a)({},L),{},{artist:t.value}))}})}),Object(u.jsx)(O.a.Field,{children:Object(u.jsx)(Ve.a,{placeholder:"\xc1lbumes disponibles...",search:!0,selection:!0,lazyLoad:!0,options:r,defaultValue:"",onChange:function(e,t){A({id:t.value}),T(Object(d.a)(Object(d.a)({},L),{},{album:t.value}))}})}),Object(u.jsx)(O.a.Field,{children:Object(u.jsxs)("div",Object(d.a)(Object(d.a)({className:"song-upload"},W()),{},{children:[Object(u.jsx)("input",Object(d.a)({},q())),Object(u.jsx)(f.a,{name:"cloud upload",className:I&&"load"}),Object(u.jsx)("div",{children:I?Object(u.jsxs)("p",{children:["Tema a\xf1adido: ",Object(u.jsx)("span",{children:I.name})]}):Object(u.jsxs)("p",{children:["Arrasta tu tema o haz click ",Object(u.jsx)("span",{children:"aqu\xed"}),"."]})})]}))}),Object(u.jsx)(l.a,{loading:z,children:"A\xf1adir tema"})]})},$e=(a(236),Object(J.f)((function(e){var t=e.user,a=e.location,c=Object(n.useState)(a.pathname),r=Object(s.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(!1),j=Object(s.a)(l,2),b=j[0],d=j[1],O=Object(n.useState)(!1),m=Object(s.a)(O,2),h=m[0],p=m[1],v=Object(n.useState)(""),x=Object(s.a)(v,2),g=x[0],w=x[1],S=Object(n.useState)(""),N=Object(s.a)(S,2),k=N[0],y=N[1];Object(n.useEffect)((function(){o(a.pathname)}),[a]),Object(n.useEffect)((function(){pe(t.uid).then((function(e){return d(e)}))}),[t]);var C=function(e,t){o(t.to)},E=function(e){switch(e){case"artist":w("Nuevo artista"),y(Object(u.jsx)(Je,{setShowModal:p})),p(!0);break;case"song":w("Nuevo tema"),y(Object(u.jsx)(Ye,{setShowModal:p})),p(!0);break;case"album":w("Nuevo album"),y(Object(u.jsx)(qe,{setShowModal:p})),p(!0);break;default:w(""),y(""),p(!1)}};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(Pe.a,{className:"menu-left",vertical:!0,children:[Object(u.jsxs)("div",{className:"top",children:[Object(u.jsxs)(Pe.a.Item,{as:Z.b,to:"/",name:"home",active:"/"===i,onClick:C,children:[Object(u.jsx)(f.a,{name:"home"})," Inicio"]}),Object(u.jsxs)(Pe.a.Item,{as:Z.b,to:"/artists",name:"artists",active:"/artists"===i,onClick:C,children:[Object(u.jsx)(f.a,{name:"user"})," Artistas"]}),Object(u.jsxs)(Pe.a.Item,{as:Z.b,to:"/albums",name:"albums",active:"/albums"===i,onClick:C,children:[Object(u.jsx)(f.a,{name:"dot circle"})," \xc1lbums"]})]}),b?Object(u.jsxs)("div",{className:"footer",children:[Object(u.jsxs)(Pe.a.Item,{name:"artist",onClick:function(){return E("artist")},children:[Object(u.jsx)(f.a,{name:"plus square outline"})," Nuevo Artista"]}),Object(u.jsxs)(Pe.a.Item,{name:"tema",onClick:function(){return E("song")},children:[Object(u.jsx)(f.a,{name:"plus square outline"})," Nuevo Tema"]}),Object(u.jsxs)(Pe.a.Item,{name:"tema",onClick:function(){return E("album")},children:[Object(u.jsx)(f.a,{name:"plus square outline"})," Nuevo \xc1lbum"]}),Object(u.jsx)(Ie,{show:h,setShow:p,title:g,children:k})]}):""]})})}))),Xe=(a(237),Object(J.f)((function(e){var t=e.user,a=e.history,n=Object(u.jsxs)("span",{children:[Object(u.jsx)(we.a,{src:t.photoURL?t.photoURL:Ce}),t.displayName]});return Object(u.jsxs)("div",{className:"top-bar",children:[Object(u.jsx)("div",{className:"top-bar__left",children:Object(u.jsx)(f.a,{name:"angle left",onClick:function(){return a.goBack()}})}),Object(u.jsx)("div",{className:"top-bar__right",children:Object(u.jsx)(Ve.a,{item:!0,trigger:n,className:"top-bar__right__account",children:Object(u.jsxs)(Ve.a.Menu,{children:[Object(u.jsx)(Z.b,{to:"/settings",children:Object(u.jsx)(Ve.a.Item,{children:"Cuenta"})}),Object(u.jsxs)(Ve.a.Item,{onClick:function(){return v()},children:["Cerrar session ",Object(u.jsx)(f.a,{name:"power off"})]})]})})})]})}))),et=a(171),tt=a.n(et),at=a(284),nt=(a(256),function(e){var t=e.songData,a=Object(n.useState)(0),c=Object(s.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(0),l=Object(s.a)(o,2),j=l[0],b=l[1],d=Object(n.useState)(!1),O=Object(s.a)(d,2),h=O[0],p=O[1],v=Object(n.useState)(.4),x=Object(s.a)(v,2),g=x[0],w=x[1],S=Object(n.useState)(0),N=Object(s.a)(S,2),k=N[0],y=N[1],C=Object(n.useState)(0),E=Object(s.a)(C,2),A=E[0],_=E[1],F=Object(n.useState)(0),I=Object(s.a)(F,2),D=I[0],R=I[1],M=Object(n.useState)(""),L=Object(s.a)(M,2),T=L[0],U=L[1];Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.url)&&(P(),R(0),_(0))}),[t]);var P=function(){p(!0)};return Object(u.jsx)("div",{className:"player",children:Object(u.jsxs)(K.a,{children:[Object(u.jsxs)(K.a.Column,{width:6,className:"left",children:[Object(u.jsx)(we.a,{src:null===t||void 0===t?void 0:t.image}),null===t||void 0===t?void 0:t.name]}),Object(u.jsxs)(K.a.Column,{width:6,className:"center",children:[Object(u.jsx)("div",{className:"controls",children:h?Object(u.jsx)(f.a,{name:"pause",onClick:function(){p(!1)}}):Object(u.jsx)(f.a,{name:"play",onClick:P})}),Object(u.jsxs)("div",{className:"bar_time",children:[Object(u.jsx)("div",{className:"numbers",children:T||"0:00"}),Object(u.jsx)(at.a,{progress:"value",value:r,total:j,size:"tiny"}),Object(u.jsx)("div",{className:"numbers",children:k?k.toString().replace(".",":"):"0:00"})]})]}),Object(u.jsx)(K.a.Column,{width:4,className:"right",children:Object(u.jsx)(m.a,{label:Object(u.jsx)(f.a,{name:0!==g?"volume up":"volume off",onClick:function(e,t){w(0===g?.5:0)}}),type:"range",max:1,min:0,step:.01,name:"volume",onChange:function(e,t){w(Number(t.value))},value:g})}),Object(u.jsx)(tt.a,{className:"react-player",url:null===t||void 0===t?void 0:t.url,playing:h,height:"0",width:"0",volume:g,onProgress:function(e){e.playedSeconds.toFixed(0);(100,A<60&&_((function(e){return e+1})),A>=59)&&(_(0),R(D+1));i(e.playedSeconds.toFixed(0)),b(e.loadedSeconds);var t="";t=A<10?"".concat(D,":0").concat(A):"".concat(D,":").concat(A),U(t)},onDuration:function(e){var t=e/60;if((t=t.toFixed(2))%1>.6){var a=t%1,n=Math.floor(t);n+=1,a=(a*=10).toFixed(1)%1,t=n+(a/=10)}y(t)}})]})})}),ct=(a(257),function(e){var t=e.user,a=e.setReloadApp,c=Object(n.useState)(null),r=Object(s.a)(c,2),i=r[0],l=r[1];return Object(u.jsx)(Z.a,{children:Object(u.jsxs)(K.a,{className:"logged-layout",children:[Object(u.jsxs)(K.a.Row,{children:[Object(u.jsx)(K.a.Column,{width:3,children:Object(u.jsx)($e,{user:t})}),Object(u.jsxs)(K.a.Column,{className:"content",width:13,children:[Object(u.jsx)(Xe,{user:t}),Object(u.jsx)(Ue,{user:t,setReloadApp:a,playerSong:function(e,t,a){(function(e){return o.storage().ref("songs/".concat(e)).getDownloadURL()})(a).then((function(a){l({url:a,image:e,name:t})})).catch()}})]})]}),Object(u.jsx)(K.a.Row,{children:Object(u.jsx)(K.a.Column,{width:16,children:Object(u.jsx)(nt,{songData:i})})})]})})});var rt=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),l=Object(s.a)(r,2),j=l[0],b=l[1],d=Object(n.useState)(!1),O=Object(s.a)(d,2),m=(O[0],O[1]);return o.auth().onAuthStateChanged((function(e){(null===e||void 0===e?void 0:e.emailVerified)?c(e):(v(),c(null)),b(!1)})),j?null:Object(u.jsxs)(u.Fragment,{children:[a?Object(u.jsx)(ct,{to:"/",user:a,setReloadApp:m}):Object(u.jsx)(H,{}),Object(u.jsx)(i.a,{position:"top-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,draggable:!0,pauseOnHover:!1})]})},st=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,289)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};a(258),a(259),a(260),a(261),a(262);r.a.render(Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(rt,{})}),document.getElementById("root")),st()}},[[263,1,2]]]);
//# sourceMappingURL=main.903708b6.chunk.js.map